<!DOCTYPE html>
<html>
<head>
  <title>Automatic Intracerebral Hemorrhage Segmentation of CT Scans</title>

  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="generator" content="pandoc" />



  <meta name="date" content="2015-01-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <link rel="stylesheet" media="all" href="Oral_Proposal_files/ioslides-13.5.1/fonts/fonts.css">

  <link rel="stylesheet" media="all" href="Oral_Proposal_files/ioslides-13.5.1/theme/css/default.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="Oral_Proposal_files/ioslides-13.5.1/theme/css/phone.css">

  <base target="_blank">

  <script type="text/javascript">
    var SLIDE_CONFIG = {
      // Slide settings
      settings: {
                title: 'Automatic Intracerebral Hemorrhage Segmentation of CT Scans',
                        useBuilds: true,
        usePrettify: true,
        enableSlideAreas: true,
        enableTouch: true,
              },

      // Author information
      presenters: [
            {
        name:  'John Muschelli' ,
        company: '',
        gplus: '',
        twitter: '',
        www: '',
        github: ''
      },
            ]
    };
  </script>

  <style type="text/css">

    b, strong {
      font-weight: bold;
    }

    em {
      font-style: italic;
    }

    slides > slide {
      -webkit-transition: all 0.4s ease-in-out;
      -moz-transition: all 0.4s ease-in-out;
      -o-transition: all 0.4s ease-in-out;
      transition: all 0.4s ease-in-out;
    }

    .auto-fadein {
      -webkit-transition: opacity 0.6s ease-in;
      -webkit-transition-delay: 0.4s;
      -moz-transition: opacity 0.6s ease-in 0.4s;
      -o-transition: opacity 0.6s ease-in 0.4s;
      transition: opacity 0.6s ease-in 0.4s;
      opacity: 0;
    }

  </style>

  <link rel="stylesheet" href="john_orals.css" type="text/css" />


</head>

<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground">
        <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
      <p data-config-presenter><!-- populated from slide_config.json --></p>
            <p style="margin-top: 6px; margin-left: -2px;">January 13, 2015</p>
          </hgroup>
  </slide>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({ TeX: { extensions: ["color.js"] }});
</script>















<slide class=''><hgroup><h2>Logic of the Talk</h2></hgroup><article  id="logic-of-the-talk">

<ul>
<li>We have patients with Intracerebral Hemorrhage and CT Data</li>
<li>Problem: Manual Segmentation of Intracerebral Hemorrhage is costly</li>
<li>We propose an automated solution using logistic regression</li>
</ul>

</article></slide><slide class=''><hgroup><h2>What is Intracranial hemorrhage?</h2></hgroup><article  id="what-is-intracranial-hemorrhage">

<div class="columns-2">
<ul>
<li>When a blood vessel ruptures into

<ul>
<li>tissue: intracerebral hemorrhage (ICH)</li>
<li>ventricles: intraventricular hemorrhage (IVH)</li>
</ul></li>
<li>≈ 13% of strokes</li>
</ul>

<img src='figure/stroke_hem_web.jpg' title=''/>

<p><sub><sup><a href='http://www.heartandstroke.com/site/c.ikIQLcMWJtE/b.3484153/k.7675/Stroke__Hemorrhagic_stroke.htm' title=''>http://www.heartandstroke.com/site/c.ikIQLcMWJtE/b.3484153/k.7675/Stroke__Hemorrhagic_stroke.htm</a></sup></sub></p></div>

</article></slide><slide class=''><hgroup><h2>X-ray Computed Tomography (CT) Scans</h2></hgroup><article  id="x-ray-computed-tomography-ct-scans">

<aside class='note'><section>Images are acquired from an X-ray scanner.<br/>x-ray goes around object and detector the other side of the object determines how many x-rays are recovered - fancy transform - Image!</section></aside>

<div style="width:48%;float:left;">
<img src='figure/CT_diagram2.gif' title=''/> <br> <sub><sup><sub><sup>Image from <a href='http://www.cyberphysics.co.uk/topics/medical/CTScanner.htm' title=''>http://www.cyberphysics.co.uk/topics/medical/CTScanner.htm</a></sup></sub></sup></sub></div>

<div style="margin-left:48%;">
<img src='figure/100-318_20070724_0026_CT_3_CT_Head-.png' title=''/></div>

</article></slide><slide class=''><hgroup><h2>Data Used</h2></hgroup><article  id="data-used">

<div style="float:right;width:500px">
<table class = 'rmdtable'>
<tr class="header">
<th align="center"> </th>
<th align="center">Overall</th>
</tr>
<tr class="odd">
<td align="center"><strong>Age (Mean (SD))</strong></td>
<td align="center">60.66 (11.25)</td>
</tr>
<tr class="even">
<td align="center"><strong>Gender = Male (%)</strong></td>
<td align="center">77 (68.8)</td>
</tr>
<tr class="odd">
<td align="center"><strong>Race (%)</strong></td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center"><strong>Caucasian</strong></td>
<td align="center">60 (53.6)</td>
</tr>
<tr class="odd">
<td align="center"><strong>African American</strong></td>
<td align="center">35 (31.2)</td>
</tr>
<tr class="even">
<td align="center"><strong>Hispanic</strong></td>
<td align="center">12 (10.7)</td>
</tr>
<tr class="odd">
<td align="center"><strong>Other</strong></td>
<td align="center">5 ( 4.5)</td>
</tr>
<tr class="even">
<td align="center"><strong>Diagnostic ICH Volume (Mean (SD))</strong></td>
<td align="center">37.74 (20.24)</td>
</tr>
<tr class="odd">
<td align="center"><strong>Diagnostic IVH Volume (Mean (SD))</strong></td>
<td align="center">3.23 (6.28)</td>
</tr>
</table></div>

<div style="margin-right:500px;">
<p>CT scans from MISTIE (Minimally Invasive Surgery plus rt-PA for ICH Evacuation) trial.</p>

<ul>
<li>112 scans from 112 patients (1 per patient)</li>
<li>First scan patient received used <img src='figure/MISTIE3-LOGO.png' title=''/></li>
</ul></div>

</article></slide><slide class=''><hgroup><h2>Image Representation: voxels (3D pixels)</h2></hgroup><article  id="image-representation-voxels-3d-pixels">

<div class="columns-2">
<img src='figure/Zoom_No_ICH.png' title=''/> <img src='figure/movie_final.gif' title=''/></div>

</article></slide><slide class=''><hgroup><h2>CT scan Characteristics</h2></hgroup><article  id="ct-scan-characteristics">

<aside class='note'><section><ul>
<li>This is an example of a CT scan of a brain with no pathology</li>
<li>Note the bone An attenuation coefficient characterizes how easily the X-ray beam penetrated that area of the brain.</li>
</ul></section></aside>

<div class="columns-2">
<img src='figure/100-318_20070724_0026_CT_3_CT_Head-.png' title=''/>

<ul>
<li>Data are in Hounsfield Units (HU), which are &quot;standardized&quot; \[
HU(v) = 1000 \times \frac{\mu(v) - \mu_{\text{water}}}{ \mu_{\text{water}}- \mu_{\text{air}}}
\] where \(\mu\) is the linear attenuation coefficient and \(v\) denotes voxel.</li>
</ul></div>

</article></slide><slide class=''><hgroup><h2>CT scan Characteristics</h2></hgroup><article  id="ct-scan-characteristics-1">

<aside class='note'><section><ul>
<li>Here are the HU ranges for stuff</li>
</ul></section></aside>

<div class="columns-2">
<img src='figure/100-318_20070724_0026_CT_3_CT_Head-.png' title=''/>

<p>HU Ranges:</p>

<ul>
<li>Bone – high intensity (1000 HU)</li>
<li>Air – low intensity (-1000 HU)</li>
<li>Water - 0 HU</li>
<li>Blood 30-80 HU</li>
<li>White/Gray Matter ≈ 0 - 100 HU</li>
</ul></div>

</article></slide><slide class=''><hgroup><h2>Intracerebral Hemorrhage: Segmented</h2></hgroup><article  id="intracerebral-hemorrhage-segmented">

<div class="columns-2">
<img src='figure/100-318_20070724_0026_CT_3_CT_Head-ROI.png' title=''/>

<img src='figure/100-318_20070724_0026_CT_3_CT_Head-ROI_binary.png' title=''/></div>

</article></slide><slide class=''><hgroup><h2>Larger ICH Volume ⇒ Worse Outcome</h2></hgroup><article  id="larger-ich-volume-worse-outcome">

<p>J. P. Broderick, T. G. Brott, J. E. Duldner, et al. <strong>&quot;Volume of intracerebral hemorrhage. A powerful and easy-to-use predictor of 30-day mortality.&quot;</strong> In: <em>Stroke</em> 24.7 (1993), pp. 987-993.</p>

<p>S. Davis, J. Broderick, M. Hennerici, et al. <strong>&quot;Hematoma growth is a determinant of mortality and poor outcome after intracerebral hemorrhage&quot;</strong>. In: <em>Neurology</em> 66.8 (2006), pp. 1175-1181.</p>

<p>L. C. Jordan, J. T. Kleinman and A. E. Hillis. <strong>&quot;Intracerebral hemorrhage volume predicts poor neurologic outcome in children&quot;</strong>. In: <em>Stroke</em> 40.5 (2009), pp. 1666-1671.</p>

<p>S. Tuhrim, D. R. Horowitz, M. Sacher, et al. <strong>&quot;Volume of ventricular blood is an important determinant of outcome in supratentorial intracerebral hemorrhage&quot;</strong>. In: <em>Critical care medicine</em> 27.3 (1999), pp. 617-621.</p>

</div>



</article></slide><slide class=''><hgroup><h2>Problems with Manual Segmenation</h2></hgroup><article  id="problems-with-manual-segmenation">

<div class="columns-2">
<img src='figure/100-318_20070724_0026_CT_3_CT_Head-ROI.png' title=''/>

<ul>
<li>ICH are manually traced (<strong>gold standard</strong>)

<ul>
<li>Time-consuming (can be over 20 mins per scan), costly</li>
<li>Within and across-rater variability</li>
</ul></li>
<li>Infeasible for large databases</li>
</ul></div>

</article></slide><slide class='segue dark nobackground'><hgroup class = 'auto-fadein'><h2>Solution: Primary Intracerebral Hemorrhage Prediction Employing Regression and Features Extracted from CT (PItcHPERFECT)</h2></hgroup><article  id="solution-primary-intracerebral-hemorrhage-prediction-employing-regression-and-features-extracted-from-ct-pitchperfect">

</article></slide><slide class=''><hgroup><h2>PItcHPERFECT uses Logistic Regression</h2></hgroup><article  id="pitchperfect-uses-logistic-regression">

<p>Let \(Y\) be the binary 0/1 indicator if a voxel \(j\)is classified as ICH, \(1\dots v_{i}\) for person \(i\).<br/>\[
\text{logit}\left(Y_{i, j}\right) = \beta_0 + X_{i, j}\beta
\] where \(X_{i,j}\) is a \(v_{i}\times p\) matrix of predictors and \(\beta \in \mathbb{R}^p\).</p>

<ul>
<li>Note, we do not take into account the spatial dependence of voxels.</li>
<li>This model may be fit on a person level (where \(i\) is fixed), or across people \(i\) varies.</li>
</ul>

</article></slide><slide class=''><hgroup><h2>What are the predictors?</h2></hgroup><article  id="what-are-the-predictors">

<p>After some preprocessing and voxel selection, the predictors \(X\) are</p>

<ul>
<li>Intensity in HU (Raw image)</li>
<li>Indicator if intensity <strong>\(\geq 40\)</strong> &amp; \(\leq 80\) HU (thresholded)</li>
<li>Z-scores in all 3 planes with only brain image</li>
<li>Distance from the center of the brain</li>
<li>Local moments (mean, sd, skew, kurtosis) of intensity and thresholded intensity</li>
<li>Smoothed image with large Gaussian smoothers (\(\sigma \in \{10, 20\}\)mm)</li>
</ul>

</article></slide><slide class=''><hgroup><h2>Estimation of Model</h2></hgroup><article  id="estimation-of-model">

<aside class='note'><section><ul>
<li>Maybe a figure here instead of text</li>
</ul></section></aside>

<ul>
<li>Built the Model based on 10 subjects (first 10, not randomly)</li>
<li><p>Data were stratified sampled based on \(Y\) and a fixed percentage (25%) of positive outcomes were included, and cutoffs were optimized on the 10 scans</p></li>
<li><p>Split the remaining subjects into \(51\) validation scans and \(51\) test scans and predicted \(Y_{i,j}\).</p></li>
<li><p>We will present results on the \(51\) validation scans.</p></li>
</ul>

</article></slide><slide class=''><hgroup><h2>Assessing Performance</h2></hgroup><article  id="assessing-performance">

<p>For each scan we can calculate the following 2-by-2 table and a corresponding Venn diagram:</p>

<div style="width:45%;float: left;">
<table class = 'rmdtable'>
<tr class = "header"><td></td><td></td><td colspan="2">

Manual

</td></tr>
<tr class = "header"><td></td><td></td><td>

0

</td><td>

1

</td></tr>
<tr><td rowspan="2"> 

PitCH

</td><td>

0

</td><td>

TN

</td><td style="color:blue">

FN

</td></tr>
<tr><td>

1

</td><td style="color:red">

FP

</td><td style="color:purple">

TP

</td></tr>
</table></div>

<div style="margin-left:48%;">
<img src="figure/Venn_Diagram_labeled.png" style="width:275px;height:275px;display: block; margin: auto;border:5px solid black""></div>

</article></slide><slide class=''><hgroup><h2>Dice Similarity</h2></hgroup><article  id="dice-similarity" class="build">

<div style="width:48%;float:left;">
From this table, we can calculate the Dice Similarity Index (DSI): \[
\definecolor{red}{RGB}{255,0,0}
\definecolor{blue}{RGB}{0,0,255}
\definecolor{purple}{RGB}{128,0,128}
\definecolor{blac,}{RGB}{0,0,0}
\frac{ \color{purple} 2 \times \#  \text{TP} }{ \color{purple}  2 \times \#\text{TP} \color{black} + \color{red} \text{FN} \color{black} + \color{blue} \text{FP}} 
\]</div>

<div style="margin-left:48%;">
<p>A DSI of:</p>

<ul>
<li>0 indicates no overlap</li>
<li>1 means perfect agreement</li>
</ul></div>

<div style="width:48%;float:left;">
<p><img src="figure/Fraction_Figure.png" style="width:400px;height:400px;display: block; margin: auto;"></p></div>

</article></slide><slide class=''><hgroup><h2>Test case: Manual Segmentation</h2></hgroup><article  id="test-case-manual-segmentation">

<p><img src="figure/SS_Image_PrePredict_ROI.png" style="width:500px;  display: block; margin: auto;" alt="MISTIE LOGO"></p>

</article></slide><slide class=''><hgroup><h2>Example Output: Automatic Segmentation</h2></hgroup><article  id="example-output-automatic-segmentation">

<p><img src="figure/SS_Image_PrePredict_Auto.png" style="width:500px;  display: block; margin: auto;" alt="MISTIE LOGO"></p>

</article></slide><slide class=''><hgroup><h2>Prediction Comparison: DSI: 0.90</h2></hgroup><article  id="prediction-comparison-dsi-0.90">

<p><img src="figure/Prediction_Figure.png" style="width:500px;  display: block; margin: auto;" alt="MISTIE LOGO"></p>

</article></slide><slide class=''><hgroup><h2><img src="figure/Modeling_Training_Dice_Rigid_zval2_Final.png" style="width:600px;  display: block; margin: auto;" alt="MISTIE LOGO"></h2></hgroup><article  id="section">

</article></slide><slide class='segue dark nobackground'><hgroup class = 'auto-fadein'><h2>Thanks</h2></hgroup><article  id="thanks">

</article></slide><slide class=''><hgroup><h2>Prediction Comparison: DSI: 0.686</h2></hgroup><article  id="prediction-comparison-dsi-0.686">

<p><img src="figure/Prediction_Figure_303.png" style="width:500px;  display: block; margin: auto;"></p>

</article></slide><slide class=''><hgroup><h2>Demographics of Patients</h2></hgroup><article  id="demographics-of-patients">

<div style="float:right;width:500px">
<table class = 'rmdtable'>
<tr class="header">
<th align="center"> </th>
<th align="center">Overall</th>
</tr>
<tr class="odd">
<td align="center"><strong>Age (Mean (SD))</strong></td>
<td align="center">60.66 (11.25)</td>
</tr>
<tr class="even">
<td align="center"><strong>Gender = Male (%)</strong></td>
<td align="center">77 (68.8)</td>
</tr>
<tr class="odd">
<td align="center"><strong>Race (%)</strong></td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center"><strong>Caucasian</strong></td>
<td align="center">60 (53.6)</td>
</tr>
<tr class="odd">
<td align="center"><strong>African American</strong></td>
<td align="center">35 (31.2)</td>
</tr>
<tr class="even">
<td align="center"><strong>Hispanic</strong></td>
<td align="center">12 (10.7)</td>
</tr>
<tr class="odd">
<td align="center"><strong>Other</strong></td>
<td align="center">5 ( 4.5)</td>
</tr>
<tr class="even">
<td align="center"><strong>Diagnostic ICH Volume (Mean (SD))</strong></td>
<td align="center">37.74 (20.24)</td>
</tr>
<tr class="odd">
<td align="center"><strong>Diagnostic IVH Volume (Mean (SD))</strong></td>
<td align="center">3.23 (6.28)</td>
</tr>
</table></div>

<div style="margin-right:500px;">
<p>Data from the MISTIE (Minimally Invasive Surgery plus rt-PA for ICH Evacuation) trial.</p>

<ul>
<li>Patients with ICH at presentation</li>
<li>112 patients from 112 scans</li>
</ul></div>

<img src='figure/MISTIE3-LOGO.png' title=''/></article></slide>


  <slide class="backdrop"></slide>

</slides>

<script src="Oral_Proposal_files/ioslides-13.5.1/js/modernizr.custom.45394.js"></script>
<script src="Oral_Proposal_files/ioslides-13.5.1/js/prettify/prettify.js"></script>
<script src="Oral_Proposal_files/ioslides-13.5.1/js/prettify/lang-r.js"></script>
<script src="Oral_Proposal_files/ioslides-13.5.1/js/prettify/lang-yaml.js"></script>
<script src="Oral_Proposal_files/ioslides-13.5.1/js/hammer.js"></script>
<script src="Oral_Proposal_files/ioslides-13.5.1/js/slide-controller.js"></script>
<script src="Oral_Proposal_files/ioslides-13.5.1/js/slide-deck.js"></script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "Oral_Proposal_files/mathjax-local/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!-- map slide visiblity events into shiny -->
<script>
  (function() {
    if (window.jQuery) {
       window.jQuery(document).on('slideleave', function(e) {
         window.jQuery(e.target).trigger('hidden');
      });
       window.jQuery(document).on('slideenter', function(e) {
         window.jQuery(e.target).trigger('shown');
      });
    }
  })();
</script>

</body>
</html>
